{"ast":null,"code":"import _slicedToArray from \"/Users/farooqahmed/Documents/Farooq Ahmed/react/kbs.web.fb/file_system_browser/web-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/farooqahmed/Documents/Farooq Ahmed/react/kbs.web.fb/file_system_browser/web-app/src/components/browser/Home.js\";\nimport React, { useEffect, useState } from 'react';\nimport Moment from 'react-moment';\nimport PropTypes from 'prop-types';\nimport { useAlert } from 'react-alert';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css'; // @material-ui/core components\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport Icon from '@material-ui/core/Icon';\nimport Stars from '@material-ui/icons/Stars';\nimport Add from '@material-ui/icons/Add';\nimport GridItem from '../shared/Grid/GridItem.js';\nimport GridContainer from '../shared/Grid/GridContainer.js';\nimport Card from '../shared/Card/Card.js';\nimport CardBody from '../shared/Card/CardBody.js';\nimport Button from '../shared/CustomButtons/Button.js';\nimport CustomInput from 'components/shared/CustomInput/CustomInput.js';\nimport { connect } from 'react-redux';\nimport { ListAllFiles, AddFolder, ClearState } from '../../actions/browser.js';\nimport { AddBookmark } from '../../actions/bookmark.js';\nimport { bindActionCreators } from 'redux'; // core components\n\nimport styles from '../../assets/jss/material-dashboard-react/components/tableStyle.js';\nimport { Link } from '@material-ui/core';\nvar useStyles = makeStyles(styles);\n\nfunction Home(props) {\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      newFolder = _useState2[0],\n      setNewFolder = _useState2[1];\n\n  var alert = useAlert();\n  useEffect(function () {\n    props.ListAllFiles(decodeURIComponent(props.params.folder));\n    return function () {\n      alert.show('error');\n      props.ClearState();\n    };\n  }, []);\n\n  function rowClickHandler(folder) {\n    props.ListAllFiles(folder);\n    props.params.folder = folder;\n  }\n\n  function folderChangeHandler(event) {\n    setNewFolder(event.target.value);\n  }\n\n  function addFolderCallback() {\n    props.ListAllFiles(decodeURIComponent(props.params.folder));\n    setNewFolder('');\n  }\n\n  function addFolderHandler() {\n    props.AddFolder(newFolder, decodeURIComponent(props.params.folder), addFolderCallback);\n  }\n\n  function addBookmarkHandler() {\n    props.AddBookmark('5d9ec846bbf735c6917f737b', decodeURIComponent(props.params.folder));\n  }\n\n  console.log('here*****');\n  console.log(props);\n  var classes = useStyles();\n  var tableHead = props.tableHead,\n      tableHeaderColor = props.tableHeaderColor,\n      files = props.files;\n  var disabledAddBookmark = props.files.files && props.files.files.isBookmarked ? {\n    disabled: 'disabled'\n  } : {};\n  var disabledAddFolder = !newFolder ? {\n    disabled: 'disabled'\n  } : {};\n\n  var notify = function notify() {\n    return toast(\"Wow so easy !\");\n  };\n\n  return React.createElement(\"div\", {\n    className: classes.tableResponsive,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(GridContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(Card, {\n    plain: true,\n    style: {\n      textAlign: 'right',\n      marginTop: '0px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      textAlign: 'left',\n      marginLeft: '15px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, decodeURIComponent(props.params.folder))), React.createElement(\"div\", {\n    style: {\n      textAlign: 'right',\n      marginTop: '0px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(CustomInput, {\n    formControlProps: {\n      className: classes.margin + ' ' + classes.search\n    },\n    inputProps: {\n      onChange: folderChangeHandler,\n      placeholder: 'Folder Name',\n      inputProps: {\n        'aria-label': 'Folder Name',\n        value: newFolder\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(Button, Object.assign({}, disabledAddFolder, {\n    style: {\n      backgroundColor: '#ff9800'\n    },\n    color: \"black\",\n    \"aria-label\": \"edit\",\n    justIcon: true,\n    round: true,\n    onClick: function onClick() {\n      addFolderHandler();\n\n      _this.notify(); //alert.show('Folder added successfully');\n\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(Add, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })), React.createElement(Button, Object.assign({}, disabledAddBookmark, {\n    style: {\n      backgroundColor: '#ff9800'\n    },\n    color: \"black\",\n    \"aria-label\": \"edit\",\n    justIcon: true,\n    round: true,\n    onClick: function onClick() {\n      addBookmarkHandler();\n\n      _this.notify(); //alert.show('Bookmarked successfully');\n\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(Stars, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }))), React.createElement(CardBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: classes.table,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, tableHead !== undefined ? React.createElement(TableHead, {\n    className: classes[tableHeaderColor + 'TableHeader'],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    className: classes.tableHeadRow,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, tableHead.map(function (prop, key) {\n    return React.createElement(TableCell, {\n      className: classes.tableCell + ' ' + classes.tableHeadCell,\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, prop);\n  }))) : null, React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, files.files && files.files.files.length > 0 ? files.files.files.map(function (prop, key) {\n    var rowProp = prop.Name;\n    return React.createElement(TableRow, {\n      key: key,\n      className: classes.tableBodyRow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, Object.entries(prop).map(function (prop, key) {\n      return prop[0] !== 'Name' ? React.createElement(TableCell, {\n        className: classes.tableCell,\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, prop[0] === 'Icon' ? prop[1] === 'folder' ? React.createElement(Link, {\n        folderName: rowProp,\n        onClick: function onClick() {\n          rowClickHandler(rowProp);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        className: \"material-icons-outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, prop[1])) : React.createElement(Icon, {\n        className: \"material-icons-outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, prop[1]) : prop[0] == 'LastChanged' ? prop[1].length > 0 ? React.createElement(Moment, {\n        fromNow: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, prop[1]) : '' : prop[1] === 0 ? '' : prop[1]) : '';\n    }));\n  }) : null)))))), React.createElement(ToastContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }));\n}\n\nfunction mapStateToProps(state) {\n  console.log('in mapStateToProps');\n  console.log(state);\n  console.log('in script');\n  var error = state.files.files && state.files.files.err ? state.files.files.err : null;\n  console.log('showing erro');\n  console.log(error);\n  return {\n    files: state.files\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    ListAllFiles: ListAllFiles,\n    AddFolder: AddFolder,\n    ClearState: ClearState,\n    AddBookmark: AddBookmark\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\nHome.defaultProps = {\n  tableHeaderColor: 'gray'\n};\nHome.propTypes = {\n  tableHeaderColor: PropTypes.oneOf(['warning', 'primary', 'danger', 'success', 'info', 'rose', 'gray']),\n  tableHead: PropTypes.arrayOf(PropTypes.string),\n  tableData: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string))\n};","map":{"version":3,"sources":["/Users/farooqahmed/Documents/Farooq Ahmed/react/kbs.web.fb/file_system_browser/web-app/src/components/browser/Home.js"],"names":["React","useEffect","useState","Moment","PropTypes","useAlert","ToastContainer","toast","makeStyles","Table","TableHead","TableRow","TableBody","TableCell","Icon","Stars","Add","GridItem","GridContainer","Card","CardBody","Button","CustomInput","connect","ListAllFiles","AddFolder","ClearState","AddBookmark","bindActionCreators","styles","Link","useStyles","Home","props","newFolder","setNewFolder","alert","decodeURIComponent","params","folder","show","rowClickHandler","folderChangeHandler","event","target","value","addFolderCallback","addFolderHandler","addBookmarkHandler","console","log","classes","tableHead","tableHeaderColor","files","disabledAddBookmark","isBookmarked","disabled","disabledAddFolder","notify","tableResponsive","textAlign","marginTop","marginLeft","className","margin","search","onChange","placeholder","inputProps","backgroundColor","table","undefined","tableHeadRow","map","prop","key","tableCell","tableHeadCell","length","rowProp","Name","tableBodyRow","Object","entries","mapStateToProps","state","error","err","mapDispatchToProps","dispatch","defaultProps","propTypes","oneOf","arrayOf","string","tableData"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Moment from 'react-moment';\nimport PropTypes from 'prop-types';\nimport { useAlert } from 'react-alert'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n// @material-ui/core components\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport Icon from '@material-ui/core/Icon';\nimport Stars from '@material-ui/icons/Stars';\nimport Add from '@material-ui/icons/Add';\nimport GridItem from '../shared/Grid/GridItem.js';\nimport GridContainer from '../shared/Grid/GridContainer.js';\nimport Card from '../shared/Card/Card.js';\nimport CardBody from '../shared/Card/CardBody.js';\nimport Button from '../shared/CustomButtons/Button.js';\nimport CustomInput from 'components/shared/CustomInput/CustomInput.js';\nimport { connect } from 'react-redux';\nimport { ListAllFiles, AddFolder, ClearState } from '../../actions/browser.js';\nimport { AddBookmark } from '../../actions/bookmark.js';\nimport { bindActionCreators } from 'redux';\n\n// core components\nimport styles from '../../assets/jss/material-dashboard-react/components/tableStyle.js';\nimport { Link } from '@material-ui/core';\n\nconst useStyles = makeStyles(styles);\n\nfunction Home(props) {\n  const [newFolder, setNewFolder] = useState('');\n  const alert = useAlert();\n\n  useEffect(() => {\n    props.ListAllFiles(decodeURIComponent(props.params.folder));\n    return () => {\n      alert.show('error');\n       props.ClearState();\n    }\n  }, [])\n\n  function rowClickHandler(folder)\n  {\n    props.ListAllFiles(folder);\n    props.params.folder = folder;\n  }\n\n  function folderChangeHandler(event) {\n    setNewFolder(event.target.value);\n  }\n\n  function addFolderCallback() {\n    props.ListAllFiles(decodeURIComponent(props.params.folder));\n    setNewFolder('');\n  }\n\n  function addFolderHandler() {\n    props.AddFolder(newFolder, decodeURIComponent(props.params.folder), addFolderCallback);\n  }\n\n  function addBookmarkHandler() {\n    props.AddBookmark('5d9ec846bbf735c6917f737b', decodeURIComponent(props.params.folder));\n  }\n\n  console.log('here*****')\n  console.log(props);\n\n  const classes = useStyles();\n  const { tableHead, tableHeaderColor, files } = props;\n  const disabledAddBookmark = (props.files.files && props.files.files.isBookmarked ? {disabled: 'disabled'} : {});\n  const disabledAddFolder = !newFolder ? { disabled: 'disabled'} : {};\n\n  const notify = () => toast(\"Wow so easy !\");\n\n  return (\n    <div className={classes.tableResponsive}>\n      <GridContainer>\n          <GridItem xs={12} sm={12} md={12}>\n            <Card plain style={{textAlign:'right', marginTop: '0px'}}>\n              <div style={{textAlign:'left', marginLeft: '15px'}}>\n                <label>{decodeURIComponent(props.params.folder)}</label>\n              </div>\n              <div style={{textAlign:'right', marginTop: '0px'}}>\n                <CustomInput\n                  formControlProps={{\n                    className: classes.margin + ' ' + classes.search\n                  }}\n                  inputProps={{\n                    onChange: folderChangeHandler,\n                    placeholder: 'Folder Name',\n                    inputProps: {\n                      'aria-label': 'Folder Name',\n                      value : newFolder\n                    }\n                  }}/>\n                <Button {...disabledAddFolder} style={{backgroundColor:'#ff9800'}} color='black' aria-label='edit' justIcon round\n                  onClick={() => {\n                    addFolderHandler();\n                    this.notify();\n                    //alert.show('Folder added successfully');\n                  }}\n                >\n                  <Add />\n                </Button>\n                <Button {...disabledAddBookmark} style={{backgroundColor:'#ff9800'}} color='black' aria-label='edit' justIcon round\n                  onClick={() => {\n                      addBookmarkHandler();\n                      this.notify();\n                      //alert.show('Bookmarked successfully');\n                  }}\n                >\n                  <Stars  />\n                </Button>\n              </div>\n              <CardBody>\n              <Table className={classes.table}>\n                {tableHead !== undefined ? (\n                  <TableHead className={classes[tableHeaderColor + 'TableHeader']}>\n                    <TableRow className={classes.tableHeadRow}>\n                      {tableHead.map((prop, key) => {\n                        return (\n                          <TableCell\n                            className={classes.tableCell + ' ' + classes.tableHeadCell}\n                            key={key}\n                          >\n                            {prop}\n                          </TableCell>\n                        );\n                      })}\n                    </TableRow>\n                  </TableHead>\n                ) : null}\n                <TableBody>\n                  {\n                    files.files && files.files.files.length > 0 ? (files.files.files.map((prop, key) => {\n                      let rowProp = prop.Name;\n                      return (\n                        <TableRow key={key} className={classes.tableBodyRow}>\n                          {\n                            Object.entries(prop).map((prop, key) => {\n                              return (\n                                prop[0] !== 'Name' ?  \n                                (<TableCell className={classes.tableCell} key={key}>\n                                {\n                                  (prop[0] === 'Icon' ? \n                                    (prop[1] === 'folder') ? \n                                      (<Link folderName={rowProp} onClick={() => \n                                        { \n                                          rowClickHandler(rowProp);\n                                        } }>\n                                        <Icon className='material-icons-outlined'>{prop[1]}</Icon></Link>) :\n                                      (<Icon className='material-icons-outlined'>{prop[1]}</Icon>) :\n                                    (prop[0] == 'LastChanged') ? \n                                      (prop[1].length > 0 ? <Moment fromNow>{prop[1]}</Moment> : '') :\n                                    ((prop[1] === 0) ? '' : prop[1])\n                                  )\n                                }\n                                </TableCell>) : ('')\n                              );\n                            })\n                          }\n                        </TableRow>\n                      );\n                    })) : null \n                  }\n                </TableBody>\n              </Table>\n              </CardBody>\n            </Card>\n          </GridItem>\n        </GridContainer>\n        <ToastContainer />\n    </div>\n  );\n}\n\n\nfunction mapStateToProps(state) {\n  console.log('in mapStateToProps');\n  console.log(state);\n  console.log('in script')\n  const error = (state.files.files && state.files.files.err) ? state.files.files.err : null;\n  console.log('showing erro');\n  console.log(error);\n  return {\n    files: state.files\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators( {ListAllFiles, AddFolder, ClearState, AddBookmark}, dispatch);\n}\n\nexport default  connect(mapStateToProps, mapDispatchToProps)(Home);\n\nHome.defaultProps = {\n  tableHeaderColor: 'gray'\n};\n\nHome.propTypes = {\n  tableHeaderColor: PropTypes.oneOf([\n    'warning',\n    'primary',\n    'danger',\n    'success',\n    'info',\n    'rose',\n    'gray'\n  ]),\n  tableHead: PropTypes.arrayOf(PropTypes.string),\n  tableData: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string))\n};\n"]},"metadata":{},"sourceType":"module"}